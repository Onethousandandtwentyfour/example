<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>无限滚动</title>
    <link rel="stylesheet" href="./css/index.css" />
  </head>
  <body>
    <div class="scroll-outer s1"></div>
    <div class="scroll-outer s2"></div>
    <script>
      function renderScrollWithSelector(c = "", count = 16) {
        const root = document.createElement("div");
        root.classList.add("scroll-inner");
        root.style.width = 50 * 16 * 2 + "px";

        for (let x = 1; x <= 3; x++) {
          for (let y = 1; y <= count; y++) {
            const img = document.createElement("img");
            img.classList.add("img");
            if (c) {
              img.classList.add(c);
            }
            img.alt = "";
            img.src = `./assets/loop-${y}.png`;
            root.appendChild(img);
          }
        }
        const target = document.querySelector(c);
        target
          ? (target.appendChild(root), root.classList.add("scroll-ani"))
          : "";
        return root;
      }
      window.onload = () => {
        renderScrollWithSelector(".s1");
        renderScrollWithSelector(".s2").style.animationDirection = "reverse";
      };
    </script>
  </body>
</html>
